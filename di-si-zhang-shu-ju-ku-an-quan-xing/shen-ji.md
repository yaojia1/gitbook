# 审计

## 什么是审计

§启用一个专用的审计日志（Audit Log）

   将用户对数据库的所有操作记录在上面

§审计员利用审计日志

监控数据库中的各种行为，找出非法存取数据的人、时

间和内容

§C2以上安全级别的DBMS必须具有审计功能

审计功能的可选性 

审计很费时间和空间 

DBA可以根据应用对安全性的要求，灵活地打开或关闭审计功能 

审计功能主要用于安全性要求较高的部门

## 1.审计事件 

服务器事件 审计数据库服务器发生的事件 系统权限 对系统拥有的结构或模式对象进行操作的审计 要求该操作的权限是通过系统权限获得的 语句事件 对SQL语句，如DDL、DML、DQL及DCL语句的审计 模式对象事件 对特定模式对象上进行的SELECT或DML操作的审计

## 2.审计功能 

基本功能 提供多种审计查阅方式提供多种审计查阅方式 多套审计规则：一般在初始化设定 提供审计分析和报表功能 审计日志管理功能 防止审计员误删审计记录，审计日志必须先转储后删除 对转储的审计记录文件提供完整性和保密性保护 只允许审计员查阅和转储审计记录，不允许任何用户新增和修改审计记录等 提供查询审计设置及审计记录信息的专门视图

审计分为 

用户级审计 

* 针对自己创建的数据库表或视图进行审计 
* 记录所有用户对这些表或视图的一切成功和（或）不成功的访问要求以及各种类型的SQL操作 

系统级审计 

* DBA设置 
* 监测成功或失败的登录要求 
* 监测GRANT和REVOKE操作以及其他数据库级权限下的操作

AUDIT语句：设置审计功能

NOAUDIT语句：取消审计功能

```text
［例4.15］对修改SC表结构或修改SC表数据的操作进行审计
           AUDIT ALTER，UPDATE  
           ON  SC；

［例4.16］取消对SC表的一切审计
           NOAUDIT  ALTER，UPDATE  
           ON  SC；
```

